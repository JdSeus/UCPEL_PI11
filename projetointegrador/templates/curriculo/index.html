{% extends 'base.html' %}

{%block conteudo%}

<script src="https://unpkg.com/htmx.org@1.8.0"></script>


<div class="min-h-[calc(100vh-90px-20vh)] flex items-center">
    <div class="block p-[16px] bg-slate-300  m-auto">

        <button hx-get="{% url 'add-movie' %}" hx-target="#js-dialog">
            Add a movie
        </button>

        {% comment %} 
        <form action="/your-name/" method="post">
            {% csrf_token %}
            {{ form }}
            <input type="submit" value="Submit">
        </form>
        {% endcomment %}
    </div> 
</div>

<div id="js-modal" class="modal-container">
    <div class="modal-item relative">
        <div class="flex justify-end">
            <div
            class="absolute cursor-pointer text-[30px] leading-[1] mr-[-30px]"
            onclick="this.parentElement.parentElement.parentElement.classList.remove('active');">
                Ã—
            </div>
        </div>
        <div id="js-dialog" hx-target="this"></div>
    </div>
</div>


<script>

    const modal = document.getElementById("js-modal")

    htmx.on("htmx:afterSwap", (e) => {
    // Response targeting #dialog => show the modal
        if (e.detail.target.id == "js-dialog") {
            modal.classList.add('active');
        }
    })
</script>
{%endblock%}